name: OpenOSRS - Gradle Dependencies

on:
  schedule:
    - cron: 0 0 * * *

jobs:
  update:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@master
    - name: Make gradlew executable
      run: chmod +x ./gradlew
    - name: Update Gradle dependencies
      run: ./gradlew useLatestVersions
    - name: Create Gradle dependencies update Pull Request
      uses: peter-evans/create-pull-request@master
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        PULL_REQUEST_BRANCH: GRADLE-DEPENDENCIES-UPDATE
        PULL_REQUEST_TITLE: 'project: Update gradle dependencies'
        PULL_REQUEST_BODY: This is an auto-generated PR with an updated gradle dependencies versions
        COMMIT_MESSAGE: 'project: Update gradle dependencies'
